
/*********************************************************************
	SYSTEM Boesewicht
	Module for PROCESS Mouth
	Filename: Mouth.c
	generated by CIP Tool(R) Version 4.41.00
		September 11, 2012  10:14:43 pm
	activated code options:
		PENDING_ information
		'unsigned char' for 'enum'
		C-code
*********************************************************************/

/* Include Files */

#include "mBoesewicht.h"

/* Process Macro Definitions */

#define SELF status_Mouth.write_access_
#define STATUS status_Mouth.read_access_
#define TIME time_mBoesewicht

/* Process Definitions */

/* MODES */
#define normal 1

/* STATES */
#define Closed 1
#define Open 2


/* INPULSES */
#define IP_OPEN 1
#define IP_CLOSE 2


/* OUTPULSES */

#define O7_PLAY 8
#define O7_WAIT 9
#define O7_WAKEUP 7
#define O4_OPEN_EYES 4
#define O4_PLAY 5
#define O4_WAVE 3
#define O3_DOWN 2
#define O3_NEUTRAL 6
#define O3_UP 1

/* External Declarations */

extern unsigned long time_mBoesewicht;
extern union tCHNOUT_mBoesewicht CHNOUT_mBoesewicht;

void fUPDATE_Robot (void);

/* Global Declarations */

union tSTATUS_Mouth status_Mouth;

/* Function Prototypes */

int fPULSE_Mouth (unsigned char name_);
void fINIT_Mouth (void);

/* Input Channel Functions */

int fPULSE_Mouth (unsigned char name_)
{
	switch (name_)
	{
		/***  INPULSE CLOSE  ***/
	case O7_WAIT:		/***  PULSE CAST from PROCESS Controller  ***/
	case O4_PLAY:		/***  PULSE CAST from PROCESS Initialize  ***/
	case O4_WAVE:
		switch (status_Mouth.read_access_.STATE)
		{
		case 2:  /* STATE Open */
			status_Mouth.write_access_.STATE = 1;  /* STATE Closed */
			CHNOUT_mBoesewicht.CHAN_MouthOutChannel.name_ = C4_CLOSE;
			OUT_.MouthOutChannel (CHNOUT_mBoesewicht.CHAN_MouthOutChannel.name_);
			break;
		default: 
			break;
		}
		break;
		/***  INPULSE OPEN  ***/
	case O7_PLAY:		/***  PULSE CAST from PROCESS Controller  ***/
	case O7_WAKEUP:
	case O4_OPEN_EYES:		/***  PULSE CAST from PROCESS Initialize  ***/
		switch (status_Mouth.read_access_.STATE)
		{
		case 1:  /* STATE Closed */
			status_Mouth.write_access_.STATE = 2;  /* STATE Open */
			CHNOUT_mBoesewicht.CHAN_MouthOutChannel.name_ = C4_OPEN;
			OUT_.MouthOutChannel (CHNOUT_mBoesewicht.CHAN_MouthOutChannel.name_);
			break;
		default: 
			break;
		}
		break;
	default: 
		return 0;
	}
	return 1;
}

/* Process Initialization Function */

void fINIT_Mouth (void)
{
	status_Mouth.write_access_.STATE = 1;  /* STATE Closed */
}

/*********************************************************************
	End of Module for PROCESS Mouth
*********************************************************************/
